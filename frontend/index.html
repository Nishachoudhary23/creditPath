<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CreditPathAI - Loan Application & Risk Assessment</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>CreditPathAI</h1>
            <p>Intelligent Loan Default Risk Assessment System</p>
        </header>

        <div class="card">
            <h2>Loan Application Form</h2>
            <form id="predictionForm">
                <div class="section-title">Personal Information</div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="full_name">Full Name *</label>
                        <input type="text" id="full_name" name="full_name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" placeholder="10-digit number" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="city">City *</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="state">State *</label>
                        <input type="text" id="state" name="state" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="pincode">Pincode *</label>
                        <input type="text" id="pincode" name="pincode" pattern="[0-9]{6}" placeholder="6-digit pincode" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="address">Residential Address *</label>
                    <textarea id="address" name="address" rows="2" required></textarea>
                </div>

                <div class="section-title">Employment Details</div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="employment_status">Employment Status *</label>
                        <select id="employment_status" name="employment_status" required>
                            <option value="">Select...</option>
                            <option value="Salaried">Salaried</option>
                            <option value="Self-Employed">Self-Employed</option>
                            <option value="Business">Business Owner</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="employer_name">Employer/Business Name *</label>
                        <input type="text" id="employer_name" name="employer_name" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="work_experience">Work Experience (years) *</label>
                        <input type="number" id="work_experience" name="work_experience" step="0.1" min="0" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="monthly_income">Monthly Income (₹) *</label>
                        <input type="number" id="monthly_income" name="monthly_income" step="0.01" min="1" required>
                    </div>
                </div>

                <div class="section-title">Loan Details</div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="loan_purpose">Purpose of Loan *</label>
                        <select id="loan_purpose" name="loan_purpose" required>
                            <option value="">Select...</option>
                            <option value="Home Purchase">Home Purchase</option>
                            <option value="Home Renovation">Home Renovation</option>
                            <option value="Car Purchase">Car Purchase</option>
                            <option value="Business Expansion">Business Expansion</option>
                            <option value="Education">Education</option>
                            <option value="Debt Consolidation">Debt Consolidation</option>
                            <option value="Medical Emergency">Medical Emergency</option>
                            <option value="Personal">Personal</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="loan_amnt">Loan Amount Requested (₹) *</label>
                        <input type="number" id="loan_amnt" name="loan_amnt" step="1" min="10000" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="loan_term">Loan Term (months) *</label>
                    <input type="number" id="loan_term" name="loan_term" min="1" max="360" placeholder="e.g., 12, 24, 60" required>
                </div>

                <div class="section-title">Financial Information</div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="annual_inc">Annual Income (₹) *</label>
                        <input type="number" id="annual_inc" name="annual_inc" step="0.01" min="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="dti">Debt-to-Income Ratio (%) *</label>
                        <input type="number" id="dti" name="dti" step="0.01" min="0" max="100" placeholder="0-100" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="open_acc">Open Credit Accounts *</label>
                        <input type="number" id="open_acc" name="open_acc" min="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="total_acc">Total Credit Accounts *</label>
                        <input type="number" id="total_acc" name="total_acc" min="1" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="credit_age">Credit History Age (years) *</label>
                        <input type="number" id="credit_age" name="credit_age" step="0.1" min="0.1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="revol_util">Revolving Credit Utilization (%) *</label>
                        <input type="number" id="revol_util" name="revol_util" step="0.01" min="0" max="100" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="existing_loans">Number of Existing Loans *</label>
                    <input type="number" id="existing_loans" name="existing_loans" min="0" required>
                </div>

                <button type="submit" id="submitBtn" class="submit-btn">Submit Application & Assess Risk</button>
            </form>
        </div>

        <div id="resultsSection" class="card results-section" style="display: none;">
            <h2>Risk Assessment Results</h2>
            
            <div class="applicant-info">
                <h3 id="applicantName"></h3>
                <p><strong>Email:</strong> <span id="applicantEmail"></span></p>
                <p><strong>Phone:</strong> <span id="applicantPhone"></span></p>
                <p><strong>Loan Purpose:</strong> <span id="loanPurpose"></span></p>
                <p><strong>Loan Amount:</strong> ₹<span id="loanAmount"></span></p>
            </div>

            <div class="result-item">
                <span class="result-label">Default Probability:</span>
                <span id="probability" class="result-value"></span>
            </div>
            <div class="result-item">
                <span class="result-label">Risk Level:</span>
                <span id="riskBand" class="result-value risk-badge"></span>
            </div>
            <div class="result-item">
                <span class="result-label">Recommended Action:</span>
                <span id="action" class="result-value"></span>
            </div>
            
            <div class="recommendation-box">
                <h4>Detailed Assessment</h4>
                <p id="recommendationDetails"></p>
            </div>
        </div>

        <div id="errorSection" class="error-message" style="display: none;"></div>

        <div id="debugSection" class="card" style="display: none; margin-top: 16px;">
            <h2>Debug - Raw Response</h2>
            <pre id="rawResponse" style="white-space: pre-wrap; word-break: break-word; background:#f7f7f7; padding:12px; border-radius:6px; max-height:300px; overflow:auto;"></pre>
        </div>

        <div id="loadingSection" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Analyzing application and assessing risk...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
